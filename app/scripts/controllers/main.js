// Generated by CoffeeScript 1.6.3
"use strict";
var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

angular.module('resourceFoundryApp').filter('capitalise', function() {
  return function(input) {
    return input.charAt(0).toUpperCase() + input.slice(1);
  };
});

angular.module('resourceFoundryApp').controller('MainCtrl', function($scope) {
  $scope.paths = [
    {
      key: "webdevelopment",
      name: "Web Development"
    }, {
      key: "marketing",
      name: "Marketing"
    }
  ];
  $scope.levels = ["beginner", "intermediate", "expert", "all"];
  $scope.topics = ["html", "css", "javascript", "frontend"];
  $scope.mediaTypes = ["article", "reference", "tutorial", "tool", "talk", "video"];
  $scope.authors = [
    {
      name: "Addy Osmani"
    }, {
      name: "Rebecca Black"
    }
  ];
  $scope.authorSelectOptions = {
    multiple: false,
    data: $scope.authors,
    createSearchChoice: function(term, data) {
      console.log(term, data);
      if (__indexOf.call(data, term) < 0) {
        return {
          id: term,
          text: term
        };
      } else {
        return null;
      }
    }
  };
  $scope.resources = [
    {
      path: "webdevelopment",
      title: "Google",
      link: "http://www.apple.com",
      level: "all",
      topics: ["html", "css", "javascript"],
      mediaTypes: ["reference", "tutorial", "tool"]
    }
  ];
  return $scope.addResource = function() {
    $scope.resources.push({
      path: $scope.input.path,
      title: $scope.input.title,
      link: $scope.input.url,
      level: $scope.input.level,
      topics: _.pluck($scope.input.topics, "id"),
      mediaTypes: _.pluck($scope.input.types, "id"),
      description: $scope.input.description
    });
    return $scope.input = {};
  };
});
