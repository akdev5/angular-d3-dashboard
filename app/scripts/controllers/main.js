// Generated by CoffeeScript 1.6.3
'use strict';
angular.module('resourceFoundryApp').controller('MainCtrl', function($scope, $http, keygen) {
  $http({
    method: 'GET',
    url: '/data.json'
  }).success(function(data, status, config) {
    $scope.authors = _.uniq(_.flatten(_.pluck(data, "authors")), JSON.stringify);
    window.authors = $scope.authors;
    $scope.mediaTypes = _.map(_.uniq(_.flatten(_.pluck(data, "mediaType"))), function(el) {
      return {
        key: el,
        value: el
      };
    });
    return $scope.topics = _.map(_.uniq(_.flatten(_.pluck(data, "topic"))), function(el) {
      return {
        key: el,
        value: el
      };
    });
  }).error(function() {
    return console.log('error :(');
  });
  $scope.paths = [
    {
      key: "webdevelopment",
      value: "Web Development"
    }, {
      key: "marketing",
      value: "Marketing"
    }
  ];
  $scope.levels = [
    {
      key: "beginner",
      value: "Beginner"
    }, {
      key: "intermediate",
      value: "Intermediate"
    }, {
      key: "expert",
      value: "Expert"
    }, {
      key: "all",
      value: "All"
    }
  ];
  $scope.resources = [
    {
      path: "webdevelopment",
      title: "Google",
      link: "http://www.google.com",
      level: "all",
      description: "Use this for EVERYTHING",
      topics: [
        {
          key: "html",
          value: "HTML"
        }, {
          key: "css",
          value: "CSS"
        }, {
          key: "javascript",
          value: "JavaScript"
        }
      ],
      mediaTypes: [
        {
          key: "reference",
          value: "reference"
        }, {
          key: "tutorial",
          value: "tutorial"
        }, {
          key: "tool",
          value: "tool"
        }
      ],
      author: {
        name: "Google"
      },
      cost: "free"
    }, {
      path: "webdevelopment",
      title: "Angular UI Bootstrap",
      link: "http://angular-ui.github.io/bootstrap/",
      level: "beginner",
      topics: [
        {
          key: "angular",
          value: "angular"
        }, {
          key: "javascript",
          value: "javascript"
        }
      ],
      mediaTypes: [
        {
          key: "tool",
          value: "tool"
        }
      ],
      cost: "free",
      author: {
        name: "Angular UI Team",
        twitter: "@angularui",
        github: "angular-ui"
      }
    }
  ];
  $scope.costs = [
    {
      key: "free",
      value: "Free"
    }, {
      key: "paid",
      value: "Paid"
    }, {
      key: "freemium",
      value: "Freemium"
    }
  ];
  return $scope.addResource = function() {
    console.log($scope.input);
    $scope.resources.push(angular.copy($scope.input));
    return $scope.input = {};
  };
});
